## Задание 6

### Между офисами HQ и BR необходимо сконфигурировать IP-туннель

- Сведения о туннеле занесите в отчёт

- На выбор технологии GRE или IP in IP

<br/>

<details>
<summary>Решение</summary>
<br/>

#### Создание туннеля на HQ-RTR

Создаем интерфейс **GRE**-туннеля на **HQ-RTR**:
```yml
int tunnel.0
```

<br/>

Назначаем **IP-адрес**:
```yml
ip add 172.16.0.1/30
```

<br/>

Выставляем параметр **MTU**:
```yml
ip mtu 1400
```
> В связи с добавлением служебного заголовка появляются новые требования к допустимому значению MTU при передаче пакета. Заголовок GRE имеет размерность 4 байта, 20 байт транспортный IP заголовок, заголовок IP пакета 20 байт, таким образом возникает необходимость задавать размер допустимого MTU на интерфейсах туннеля меньше стандартного значения.

<br/>

Задаем режим работы туннеля **GRE** и адреса **начала** и **конца** туннеля:
```yml
ip tunnel 172.16.4.2 172.16.5.2 mode gre
```

<br/>

#### GRE-туннель на BR-RTR настраивается аналогично примеру выше
#### Создание туннеля на BR-RTR

Создаем интерфейс **GRE**-туннеля на **BR-RTR**:
```yml
int tunnel.0
```

<br/>

Назначаем **IP-адрес**:
```yml
ip add 172.16.0.2/30
```

<br/>

Выставляем параметр **MTU**:
```yml
ip mtu 1400
```
> В связи с добавлением служебного заголовка появляются новые требования к допустимому значению MTU при передаче пакета. Заголовок GRE имеет размерность 4 байта, 20 байт транспортный IP заголовок, заголовок IP пакета 20 байт, таким образом возникает необходимость задавать размер допустимого MTU на интерфейсах туннеля меньше стандартного значения.

<br/>

Задаем режим работы туннеля **GRE** и адреса **начала** и **конца** туннеля:
```yml
ip tunnel 172.16.5.2 172.16.4.2 mode gre
```

</details>

<br/>
